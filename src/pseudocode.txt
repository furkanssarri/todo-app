function processTodoItem(todo):
    if todo.isComplete:
        removeTodoItem(todo)
        return

    if not isDueDateValid(todo.dueDate):
        throwError("incorrect date")
        return

    if isDueTomorrow(todo.dueDate):
        displayInThisWeekUnlisted(todo)
        return

    if isDueToday(todo.dueDate):
        if not isListed(todo):
            displayInThisWeekUnlisted(todo)
        else:
            if isValidList(todo.list):
                displayInListedToday(todo)
            else:
                throwError("invalid list")
        return

    if isDueThisWeek(todo.dueDate):
        displayInThisWeek(todo)
    else:
        displayInUnlisted(todo)
